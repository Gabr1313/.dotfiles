# All info: https://wiki.hyprland.org/
# All keys: https://github.com/xkbcommon/libxkbcommon/blob/master/include/xkbcommon/xkbcommon-keysyms.h

#: Start config {{{
input {
    kb_layout=us,it
    kb_options=grp:alt_caps_toggle
    numlock_by_default=1
    repeat_rate=50
    repeat_delay=500

    follow_mouse=2

    touchpad {
        natural_scroll=no
    }
}

general {
    sensitivity=1.0 # for mouse cursor
    # main_mod=ALT
    gaps_in=5
    gaps_out=10
    border_size=2
    cursor_inactive_timeout=2
    col.active_border=0x000000 #rgba(71a7c2cc)
    col.inactive_border=0x000000 #0x66333333
    apply_sens_to_raw=0 # whether to apply the sensitivity to raw input (e.g. used by games where you aim using your mouse)
    # damage_tracking=full # leave it on full unless you hate your GPU and want to make it suffer
}

decoration {
    rounding=10
    blur=0 # for background when transparent window
    shadow_range=10
    shadow_render_power=2
}

# animations {
#     enabled=1
#     bezier=myBezier,0.05,0.9,0.1,1.05
#     animation=windows,1,7,myBezier
#     animation=windowsOut,1,7,myBezier
#     # animation=windowsOut,1,7,default,popin 80%
#     animation=border,1,10,default
#     animation=fade,1,7,default
#     animation=workspaces,1,6,default
# }

animations {
    enabled=1
    # bezier=overshot,0.05,0.9,0.1,1.1
    bezier=overshot,0.13,0.99,0.29,1.1
    animation=windows,1,4,overshot,slide
    animation=border,1,10,default
    animation=fade,1,10,default
    animation=workspaces,1,6,overshot,slidevert
}

dwindle {
    pseudotile=1 # enable pseudotiling on dwindle
    force_split=2 # 0 means the split direction follows mouse position relative to the window
    preserve_split=1
    # col.group_border=0xff89dceb
    # col.group_border_active=0xfff9e2af

}

gestures {
    workspace_swipe=yes
    workspace_swipe_fingers=3
}

#: }}}

# Monitor {{{
exec-once=swaybg -i $HOME/wallpapers/0264.jpg

monitor=,preferred,auto,1

bindl=,switch:Lid Switch,exec,$HOME/.config/hypr/scripts/monitorToggle.sh
bindl=ALT,N,exec,hyprctl keyword monitor "eDP-1,1920x1080,0x0,1"
bindl=ALT_SHIFT,N,exec,hyprctl keyword monitor "eDP-1,disable"

bind=ALT,M,swapactiveworkspaces,DP-2 eDP-1
bind=ALT_SHIFT,M,movecurrentworkspacetomonitor,DP-2
bind=ALT_CTRL,M,movecurrentworkspacetomonitor,eDP-1
# }}}

# Screenshot {{{
bind=,Print,exec,$HOME/.config/hypr/scripts/screenSelectionOnlyClip.sh
bind=CTRL,Print,exec,$HOME/.config/hypr/scripts/screenSelection.sh
bind=CTRL_SHIFT,Print,exec,$HOME/.config/hypr/scripts/screenWindowHypr.sh
bind=SHIFT,Print,exec,$HOME/.config/hypr/scripts/screenFullHypr.sh
# }}}

# Workspace {{{
bind=ALT,Z,togglesplit
bind=ALT,F,fullscreen,0
bind=ALT_SHIFT,F,fullscreen,1

bind=ALT,H,movefocus,l
bind=ALT,L,movefocus,r
bind=ALT,K,movefocus,u
bind=ALT,J,movefocus,d
bind=ALT_SHIFT,H,movewindow,l
bind=ALT_SHIFT,L,movewindow,r
bind=ALT_SHIFT,K,movewindow,u
bind=ALT_SHIFT,J,movewindow,d

bind=ALT,1,workspace,1
bind=ALT,2,workspace,2
bind=ALT,3,workspace,3
bind=ALT,4,workspace,4
bind=ALT,5,workspace,5
bind=ALT,6,workspace,6
bind=ALT,7,workspace,7
bind=ALT,8,workspace,8
bind=ALT,9,workspace,9
bind=ALT,0,workspace,10

bind=ALT_SHIFT,1,movetoworkspacesilent,1
bind=ALT_SHIFT,2,movetoworkspacesilent,2
bind=ALT_SHIFT,3,movetoworkspacesilent,3
bind=ALT_SHIFT,4,movetoworkspacesilent,4
bind=ALT_SHIFT,5,movetoworkspacesilent,5
bind=ALT_SHIFT,6,movetoworkspacesilent,6
bind=ALT_SHIFT,7,movetoworkspacesilent,7
bind=ALT_SHIFT,8,movetoworkspacesilent,8
bind=ALT_SHIFT,9,movetoworkspacesilent,9
bind=ALT_SHIFT,0,movetoworkspacesilent,10

bind=ALT_CTRL,1,movetoworkspace,1
bind=ALT_CTRL,2,movetoworkspace,2
bind=ALT_CTRL,3,movetoworkspace,3
bind=ALT_CTRL,4,movetoworkspace,4
bind=ALT_CTRL,5,movetoworkspace,5
bind=ALT_CTRL,6,movetoworkspace,6
bind=ALT_CTRL,7,movetoworkspace,7
bind=ALT_CTRL,8,movetoworkspace,8
bind=ALT_CTRL,9,movetoworkspace,9
bind=ALT_CTRL,0,movetoworkspace,10
 
bind=ALT,mouse_down,workspace,e+1
bind=ALT,mouse_up,workspace,e-1
bindm=ALT,mouse:272,movewindow
bindm=ALT,mouse:273,resizewindow
# }}}

# Basic binding {{{
# use --hold to not close kitty
bind=ALT,RETURN,exec,kitty
bind=ALT,BACKSPACE,killactive,
bind=ALT,G,exec,nautilus
bind=ALT_SHIFT,space,togglefloating,
bind=ALT,D,exec, pkill wofi || wofi --show drun
# bindr=ALT,ALT_L,exec, pkill wofi || wofi --show drun
bind=ALT,S,exec,spotify
bind=ALT,B,exec,brave
bind=ALT,P,changegroupactive,
bind=ALT_SHIFT,P,togglegroup,
bind=ALT,X,exec,killall waybar
bind=ALT,X,exec,waybar
bind=ALT_SHIFT,X,exec,killall waybar
# }}}

# Window rule {{{
windowrule=float,^(pavucontrol)$
windowrule=float,^(gnome-power-statistics)$
windowrule=float,^(blueberry.py)$
windowrule=float,^(nm-connection-editor)$
# }}}

# Power {{{
#bind=ALT_SHIFT,BACKSPACE,exec,$HOME/.config/hypr/scripts/wofi-power.sh # https://raw.githubusercontent.com/luispabon/sway-dotfiles/master/scripts/wofi-power.sh

bind=ALT_SHIFT,BACKSPACE,submap,power
submap=power
bind=,e,exit,
bind=,s,exec,$HOME/.config/hypr/scripts/lock
bind=,s,exec,systemctl suspend
bind=,s,submap,reset 
bind=,r,exec,systemctl reboot
bind=,p,exec,systemctl poweroff -i
bind=,l,exec,$HOME/.config/hypr/scripts/lock
bind=,l,submap,reset 
bind=,escape,submap,reset 
bind=,return,submap,reset 
submap=reset
# }}}

# Resize {{{
bind=ALT,R,submap,resize
submap=resize
binde=,l,resizeactive,20 0
binde=,h,resizeactive,-20 0
binde=,k,resizeactive,0 -20
binde=,j,resizeactive,0 20
bind=,escape,submap,reset 
bind=,return,submap,reset 
submap=reset
# }}}

# Gammastep {{{
bind=ALT,Y,submap,gamma
submap=gamma
bind=,1,exec,gammastep -P -O 2000
bind=,1,submap,reset
bind=,2,exec,gammastep -P -O 2500
bind=,2,submap,reset
bind=,3,exec,gammastep -P -O 3000
bind=,3,submap,reset
bind=,4,exec,gammastep -P -O 3500
bind=,4,submap,reset
bind=,5,exec,gammastep -P -O 4000
bind=,5,submap,reset
bind=,6,exec,gammastep -P -O 4500
bind=,6,submap,reset
bind=,7,exec,gammastep -P -O 5000
bind=,7,submap,reset
bind=,8,exec,gammastep -P -O 5500
bind=,8,submap,reset
bind=,9,exec,gammastep -P -O 6000
bind=,9,submap,reset
bind=,0,exec,gammastep -x
bind=,0,submap,reset
bind=,escape,submap,reset 
bind=,return,submap,reset 
submap=reset
#}}}

# Brightness {{{
binde=,XF86MonBrightnessUp,exec,brightnessctl set 5%+
binde=,XF86MonBrightnessDown,exec,brightnessctl set 5%-
bind=ALT,Y,submap,brightness
submap=brightness
bind=,1,exec,brightnessctl set 10%
bind=,1,submap,reset
bind=,2,exec,brightnessctl set 20%
bind=,2,submap,reset
bind=,3,exec,brightnessctl set 30%
bind=,3,submap,reset
bind=,4,exec,brightnessctl set 40%
bind=,4,submap,reset
bind=,5,exec,brightnessctl set 50%
bind=,5,submap,reset
bind=,6,exec,brightnessctl set 60%
bind=,6,submap,reset
bind=,7,exec,brightnessctl set 70%
bind=,7,submap,reset
bind=,8,exec,brightnessctl set 80%
bind=,8,submap,reset
bind=,9,exec,brightnessctl set 90%
bind=,9,submap,reset
bind=,0,exec,brightnessctl set 100%
bind=,0,submap,reset
bind=,h,exec,brightnessctl set +5%
bind=,l,exec,brightnessctl set 5%-
bind=,escape,submap,reset 
bind=,return,submap,reset 
submap=reset
#}}}

# Audio {{{
binde=,XF86AudioRaiseVolume,exec,exec pactl set-sink-volume @DEFAULT_SINK@ +5%
binde=,XF86AudioLowerVolume,exec,exec pactl set-sink-volume @DEFAULT_SINK@ -5%
binde=,XF86AudioMute,exec,pactl set-sink-mute @DEFAULT_SINK@ toggle
binde=,XF86AudioMicMute,exec,pactl set-source-mute @DEFAULT_SOURCE@ toggle
binde=,XF86AudioPlay,exec,playerctl play-pause
binde=,XF86AudioPrev,exec,playerctl next
binde=,XF86AudioNext,exec,playerctl previous

bind=ALT,A,submap,audio
submap=audio
bind=,1,exec,pactl set-sink-volume @DEFAULT_SINK@ 10%
bind=,1,submap,reset
bind=,2,exec,pactl set-sink-volume @DEFAULT_SINK@ 20%
bind=,2,submap,reset
bind=,3,exec,pactl set-sink-volume @DEFAULT_SINK@ 30%
bind=,3,submap,reset
bind=,4,exec,pactl set-sink-volume @DEFAULT_SINK@ 40%
bind=,4,submap,reset
bind=,5,exec,pactl set-sink-volume @DEFAULT_SINK@ 50%
bind=,5,submap,reset
bind=,6,exec,pactl set-sink-volume @DEFAULT_SINK@ 60%
bind=,6,submap,reset
bind=,7,exec,pactl set-sink-volume @DEFAULT_SINK@ 70%
bind=,7,submap,reset
bind=,8,exec,pactl set-sink-volume @DEFAULT_SINK@ 80%
bind=,8,submap,reset
bind=,9,exec,pactl set-sink-volume @DEFAULT_SINK@ 90%
bind=,9,submap,reset
bind=,0,exec,pactl set-sink-volume @DEFAULT_SINK@ 100%
bind=,0,submap,reset
binde=,h,exec,pactl set-sink-volume @DEFAULT_SINK@ +5%
binde=,l,exec,pactl set-sink-volume @DEFAULT_SINK@ -5%
binde=,m,exec,pactl set-sink-mute @DEFAULT_SINK@ toggle
bind=,m,submap,reset
binde=,n,exec,pactl set-source-mute @DEFAULT_SOURCE@ toggle
bind=,n,submap,reset
binde=,p,exec,payerctl play-pause
bind=,p,submap,reset
binde=,j,exec,payerctl previous
bind=,j,submap,reset
binde=,k,exec,payerctl play-next
bind=,k,submap,reset
bind=,escape,submap,reset 
bind=,return,submap,reset 
submap=reset
#}}}

# Exec {{{
# notification daemon
# exec-once=dunst

# status bar
exec-once=waybar

# audio equalizer
# exec-once=easyeffects --gapplication-service	# https://github.com/JackHack96/EasyEffects-Presets.git

# disk automount
exec-once=udiskie -an --no-tray -f nautilus	# udiskie and udisks2 must be installed. Change nautilus with whatever you like
# }}}
